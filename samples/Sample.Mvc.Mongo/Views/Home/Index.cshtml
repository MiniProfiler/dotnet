@using StackExchange.Profiling
@using SampleWeb.Models
@using StackExchange.Profiling.Helpers
@model MongoDemoModel
@{
    var profiler = MiniProfiler.Current;

    using (profiler.Step("Some complex thinking"))
    {
        System.Threading.Thread.Sleep(25);
    }
}
@section head 
{
}

<h2>MongoDB MiniProfiler Sample</h2>

<div>
    <h3>Mongo Data Demo</h3>
    <table>
        <tr>
            <th>
                Description
            </th>
            <th>
                Value
            </th>
        </tr>
        <tr>
            <td>
                Foo collection records count
            </td>
            <td>
                @Model.FooCount
            </td>
        </tr>
        <tr>
            <td>
                Foo collection records count with query
            </td>
            <td>
                @Model.FooCountQuery
            </td>
        </tr>
        <tr>
            <td>
                Aggregation result document
            </td>
            <td>
                <pre>@Model.AggregateResult</pre>
            </td>
        </tr>
        <tr>
            <td>
                Some query explained
            </td>
            <td>
                <pre>@Model.ExplainResult.Truncate(100)...</pre>
            </td>
        </tr>
        <tr>
            <td>
                Query for 5 docs with different options
            </td>
            <td>
                <pre>@Model.FiveDocs</pre>
            </td>
        </tr>
    </table>
</div>
